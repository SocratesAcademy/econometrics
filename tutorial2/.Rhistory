text = element_text(size = 16))
}
pooled_corr <- plm(y ~ x1 + x2, model = "pooling", df)
random_corr <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
# add a correlated individual effect in x1
x1 = rnorm(6000) + 0.1*id,
x2 = ifelse(id < 300, 0, 1),
y = id + time + 5*x1 + 3*x2 + rnorm(6000))
pooled_corr <- plm(y ~ x1 + x2, model = "pooling", df)
library(plm)
pooled_corr <- plm(y ~ x1 + x2, model = "pooling", df)
fixed_corr  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random_corr <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled_corr, fixed_corr, random_corr), stars = TRUE, gof_omit = '^(?!Num)')
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
# add a correlated individual effect in x1
x1 = rnorm(6000) + 0.1*id,
x2 = ifelse(id < 300, 0, 1),
y = id + time + 5*x1 + 3*x2 + rnorm(6000))
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id < 300, 0, 1),
y = id + time + 5*x1 + 3*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
library(plm)
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id > 300, 0, 1),
y = id + time + 5*x1 + 3*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
View(df)
?sample
sample(c(0,1), n = 5, size = 2)
sample(c(0,1), size = 2)
sample(c(0,1), size = 2, replace = TRUE)
sample(c(0,1), n = 10, size = 2, replace = TRUE)
sample(c(0,1), size = 10, replace = TRUE)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(x1 < 1, 0, 1),
y = id + time + 5*x1 + 3*x2 + rnorm(6000))
library(plm)
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(x1 < 1, 0, 1),
y = id + time + 5*x1 + 3*x2 + rnorm(6000))
sample(seq(from = 20, to = 50, by = 5), size = 50, replace = TRUE)
?`set-multiple`
?seq
rep(0, 10)
sample(c(rep(0, 10), rep(1, 10), size = 50, replace = TRUE)
)
sample(c(rep(0, 10), rep(1, 10)), size = 50, replace = TRUE)
sample(c(rep(0, 10), rep(1, 10)), size = 100, replace = TRUE)
View(df)
4 %% 2 == 0
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 0, 1),
y = id + time + 5*x1 + 3*x2 + rnorm(6000))
head(df, n = 4)
tail(df, n = 4)
head(df, n = 4)
tail(df, n = 4)
library(plm)
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 0, 1),
y = id + time + 5*x1 + 3*x2 + rnorm(6000))
head(df, n = 4)
tail(df, n = 4)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
library(plm)
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 0, 1),
y = id + time + 5*x1 + 2*x2 + rnorm(6000))
head(df, n = 4)
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
library(plm)
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 2*x2 + rnorm(6000))
1
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
mean(df$x2)
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = -1 + id + time + 5*x1 + 2*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
library(plm)
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 50*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
library(plm)
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 8*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
library(plm)
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 15*x1 + 50*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 15*x1 + 50*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
library(plm)
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 15*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
set.seed(1500)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
# add a correlated individual effect in x1
x1 = rnorm(6000) + 0.1*id,
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 15*x2 + rnorm(6000))
pooled_corr <- plm(y ~ x1 + x2, model = "pooling", df)
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
# add a correlated individual effect in x1
x1 = rnorm(6000) + 0.1*id,
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 15*x2 + rnorm(6000))
pooled_corr <- plm(y ~ x1 + x2, model = "pooling", df)
fixed_corr  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random_corr <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled_corr, fixed_corr, random_corr), stars = TRUE, gof_omit = '^(?!Num)')
data(crime4, package = 'wooldridge')
crime4 %>%
select(county, year, crmrte, prbarr) %>%
rename(County = county,
Year = year,
CrimeRate = crmrte,
ProbofArrest = prbarr) %>%
slice(7:12) %>%
knitr::kable() %>%
kableExtra::add_footnote('6 rows out of 630. "Prob. of Arrest" is estimated probability of being arrested when you commit a crime', notation = 'none')
crime4 %>%
select(county, year, crmrte, prbarr) %>%
rename(County = county,
Year = year,
CrimeRate = crmrte,
ProbofArrest = prbarr) %>%
slice(6:12) %>%
knitr::kable() %>%
kableExtra::add_footnote('6 rows out of 630. "Prob. of Arrest" is estimated probability of being arrested when you commit a crime', notation = 'none')
crime4 %>%
select(county, year, crmrte, prbarr) %>%
rename(County = county,
Year = year,
CrimeRate = crmrte,
ProbofArrest = prbarr) %>%
slice(5:10) %>%
knitr::kable() %>%
kableExtra::add_footnote('6 rows out of 630. "Prob. of Arrest" is estimated probability of being arrested when you commit a crime', notation = 'none')
crime4 %>%
select(county, year, crmrte, prbarr) %>%
rename(County = county,
Year = year,
CrimeRate = crmrte,
ProbofArrest = prbarr) %>%
slice(c(1:3, 5:7)) %>%
knitr::kable() %>%
kableExtra::add_footnote('6 rows out of 630. "Prob. of Arrest" is estimated probability of being arrested when you commit a crime', notation = 'none')
crime4 %>%
select(county, year, crmrte, prbarr) %>%
rename(County = county,
Year = year,
CrimeRate = crmrte,
ProbofArrest = prbarr) %>%
slice(c(1:3, 8:10)) %>%
knitr::kable() %>%
kableExtra::add_footnote('6 rows out of 630. "Prob. of Arrest" is estimated probability of being arrested when you commit a crime', notation = 'none')
library(plm)
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 15*x2 + rnorm(6000))
head(df, n = 4)
tail(df, n = 4)
df %>%
slice(c(1:3, 8:10)) %>%
knitr::kable()
View(df)
df %>%
slice(c(1:3, 10:13)) %>%
knitr::kable()
df %>%
slice(c(1:3, 11:14)) %>%
knitr::kable()
library(plm)
set.seed(7)
df <- tibble(id = sort(rep(1:1000, 10)),
time = rep(1:10, 1000),
x1 = rnorm(10000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 15*x2 + rnorm(10000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
library(plm)
set.seed(7)
df <- tibble(id = sort(rep(1:1000, 10)),
time = rep(1:10, 1000),
x1 = rnorm(10000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 15*x2 + rnorm(10000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
library(plm)
set.seed(7)
df <- tibble(id = sort(rep(1:1000, 10)),
time = rep(1:10, 1000),
x1 = rnorm(10000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 30*x2 + rnorm(10000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
set.seed(777)
df <- tibble(id = sort(rep(1:1000, 10)),
time = rep(1:10, 1000),
x1 = rnorm(10000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 30*x2 + rnorm(10000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
library(plm)
set.seed(7)
df <- tibble(id = sort(rep(1:1000, 10)),
time = rep(1:10, 1000),
x1 = rnorm(10000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 15*x2 + rnorm(10000))
df %>%
slice(c(1:3, 11:14)) %>%
knitr::kable()
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
library(plm)
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 15*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
set.seed(777)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 15*x2 + rnorm(6000))
df %>%
slice(c(1:3, 11:14)) %>%
knitr::kable()
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
library(plm)
set.seed(777)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 3*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
?plm
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), effect = c("twoways"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), effect = c("twoways"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), effect = c("twoways"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), effect = c("twoways"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), effect = "twoways", df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), effect = "twoways", df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), effect = "individual", df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), effect = "individual", df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 3*x2 + rnorm(6000))
df %>%
slice(c(1:3, 11:14)) %>%
knitr::kable()
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 500*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 25*x1 + 50*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 2*x1 + 50*x2 + rnorm(6000))
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 2*x1 + 20*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 2*x1 + 30*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 2*x1 + 50*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
# add a correlated individual effect in x1
x1 = rnorm(6000) + 0.1*id,
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 2*x1 + 50*x2 + rnorm(6000))
pooled_corr <- plm(y ~ x1 + x2, model = "pooling", df)
fixed_corr  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random_corr <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled_corr, fixed_corr, random_corr), stars = TRUE, gof_omit = '^(?!Num)')
```{r, echo = TRUE}
set.seed(7)
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 5*x1 + 50*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
df <- tibble(id = sort(rep(1:600, 10)),
time = rep(1:10, 600),
x1 = rnorm(6000),
# fixed variable within individual, e.g. gender
x2 = ifelse(id %% 2 == 0, 1, 0),
y = id + time + 3*x1 + 50*x2 + rnorm(6000))
pooled <- plm(y ~ x1 + x2, model = "pooling", df) # or lm(y ~ x1 + x2, df)
fixed  <- plm(y ~ x1 + x2, model = "within", index = c("id", "time"), df)
random <- plm(y ~ x1 + x2, model = "random", index = c("id", "time"), df)
msummary(list(pooled, fixed, random), stars = TRUE, gof_omit = '^(?!Num)')
pagedown::chrome_print("tutorial2.html",output="tutorial2.pdf")
